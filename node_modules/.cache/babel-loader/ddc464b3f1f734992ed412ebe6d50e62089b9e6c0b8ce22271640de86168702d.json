{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pcom\\\\Desktop\\\\omar eya pfe final\\\\PFE\\\\frontend\\\\src\\\\pages\\\\myServices\\\\MyServices.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport \"./MyServices.scss\";\nimport { Link } from \"react-router-dom\";\nimport getCurrentUser from '../../utils/getCurrentUser.js';\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport newRequest from \"../../utils/newRequest\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyServices = () => {\n  _s();\n  const currentUser = getCurrentUser();\n  const queryClient = useQueryClient();\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery({\n    queryKey: [\"myOffres\"],\n    queryFn: () => newRequest.get(`/offre/mine?userId=${currentUser.id}`).then(res => {\n      return res.data;\n    })\n  });\n  const mutation = useMutation({\n    mutationFn: id => {\n      return newRequest.delete(`/offre/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"myOffres\"]);\n    }\n  });\n  const handleDelete = id => {\n    mutation.mutate(id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"myGigs\",\n    children: isLoading ? \"loading\" : error ? \"error\" : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: currentUser ? \"Gigs\" : \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this), currentUser && /*#__PURE__*/_jsxDEV(Link, {\n          to: `/addoffre/${currentUser._id}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Add New Offre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"prix\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Propositions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map(offre => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"image\",\n                src: offre.cover,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: offre.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: offre.prix\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/propositions/${offre._id}`,\n                children: [offre.proposals.length, offre.proposals]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"delete\",\n                src: \"./images/delete.png\",\n                onClick: () => handleDelete(offre._id),\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"link\",\n                to: `/editOffre/${offre._id}`,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"delete\",\n                  src: \"./images/delete.png\",\n                  width: \"100%\",\n                  height: \"100%\",\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 11\n            }, this)]\n          }, offre._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(MyServices, \"+BqfW7/Kidfbc26cB6LjTg3vrRc=\", false, function () {\n  return [useQueryClient, useQuery, useMutation];\n});\n_c = MyServices;\nexport default MyServices;\nvar _c;\n$RefreshReg$(_c, \"MyServices\");","map":{"version":3,"names":["React","Link","getCurrentUser","useMutation","useQuery","useQueryClient","newRequest","jsxDEV","_jsxDEV","MyServices","_s","currentUser","queryClient","isLoading","error","data","queryKey","queryFn","get","id","then","res","mutation","mutationFn","delete","onSuccess","invalidateQueries","handleDelete","mutate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","_id","map","offre","src","cover","alt","title","prix","proposals","length","onClick","width","height","_c","$RefreshReg$"],"sources":["C:/Users/pcom/Desktop/omar eya pfe final/PFE/frontend/src/pages/myServices/MyServices.jsx"],"sourcesContent":["import React from 'react'\r\nimport \"./MyServices.scss\"\r\nimport { Link } from \"react-router-dom\";\r\nimport getCurrentUser from '../../utils/getCurrentUser.js'\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport newRequest from \"../../utils/newRequest\";\r\n\r\n\r\nconst MyServices = () => {\r\n  const currentUser = getCurrentUser();\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const { isLoading, error, data } = useQuery({\r\n    queryKey: [\"myOffres\"],\r\n    queryFn: () =>\r\n      newRequest.get(`/offre/mine?userId=${currentUser.id}`).then((res) => {\r\n        return res.data;\r\n      }),\r\n  });\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: (id) => {\r\n      return newRequest.delete(`/offre/${id}`);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries([\"myOffres\"]);\r\n    },\r\n  });\r\n\r\n  const handleDelete = (id) => {\r\n    mutation.mutate(id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"myGigs\">\r\n    {isLoading ? (\r\n      \"loading\"\r\n    ) : error ? (\r\n      \"error\"\r\n    ) : (\r\n   <div className=\"container\">\r\n      <div className=\"title\">\r\n        <h1>{currentUser ? \"Gigs\" : \"Orders\"}</h1>\r\n        {currentUser && (\r\n          <Link to={`/addoffre/${currentUser._id}`}>\r\n            <button>Add New Offre</button>\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Image</th>\r\n            <th>Title</th>\r\n            <th>prix</th>\r\n            <th>Propositions</th>\r\n            <th>delete</th>\r\n            <th>Edit</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n        {data.map((offre) => (\r\n        <tr key={offre._id}>\r\n          <td>\r\n            <img\r\n              className=\"image\"\r\n              src={offre.cover}\r\n              alt=\"\"\r\n            />\r\n          </td>\r\n          <td>{offre.title}</td>\r\n          <td>{offre.prix}</td>\r\n          <td>\r\n          <Link to={`/propositions/${offre._id}`}>\r\n            {offre.proposals.length}\r\n            {offre.proposals}\r\n          </Link>\r\n          </td>\r\n          <td>\r\n            <img className=\"delete\" src=\"./images/delete.png\" \r\n            onClick={() => handleDelete(offre._id)}\r\n            alt=\"\" />\r\n          </td>\r\n          <td>\r\n          <Link className='link' to={`/editOffre/${offre._id}`}>\r\n            <img className=\"delete\" src=\"./images/delete.png\"  width=\"100%\" height=\"100%\"\r\n            alt=\"\" />\r\n          </Link>\r\n          </td>\r\n        </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    )}\r\n  </div>\r\n  )\r\n  }\r\n  \r\n  export default MyServices;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}